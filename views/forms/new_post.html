{#
    Title: New Post Form
    Parameters:
        - topic_id: number
#}

{% from './_controls.html' import label, input, backdrop %}

{#
    This form should be submitted to the root path.
    It is expecting the server to send an a-entity representing a topic in response.
    "Hotswap" is a selector for which element the topic should be injected into.
#}
<a-entity form action="/" hotswap=".scene">
    {{ backdrop() }}
    {{ input(type='hidden', name='action', value='post') }}
    {{ input(type='hidden', name='topic_id', value=topic_id) }}
    {{ label(value='Title', y_offset=0.5) }}
    {{ input(type='text', name='title', value='', y_offset=0.4) }}
    {{ label(value='Body', y_offset=0.3) }}
    {{ input(type='textarea', name='body', value='', y_offset=0.2) }}
    {{ input(type='submit', y_offset=-0.4) }}
    {{ input(type='close', y_offset=-0.5) }}
</a-entity>
