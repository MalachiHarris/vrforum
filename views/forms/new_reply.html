{#
    Title: New Reply Form
    Parameters:
        - post_id: number
#}

{% from './_controls.html' import label, input, backdrop %}

{#
    This form should be submitted to the root path.
    It is expecting the server to send an a-entity representing a thread in response.
    "Hotswap" is a selector for which element the thread should be injected into.
#}
<a-entity form action="/" hotswap='[thread-post-id="{{ post_id }}"]'>
    {{ backdrop() }}
    {{ input(type='hidden', name='action', value='reply') }}
    {{ input(type='hidden', name='post_id', value=post_id) }}
    {{ label(value='Body', y_offset=0.5) }}
    {{ input(type='textarea', name='body', value='', y_offset=0.4) }}
    {{ input(type='submit', y_offset=-0.4) }}
    {{ input(type='close', y_offset=-0.5) }}
</a-entity>
